/* ============================================================
   Sidebar â€” Collapsible with animation, responsive
   ============================================================ */

.sidebar {
  position: fixed;
  left: 0; top: 0; bottom: 0;
  width: var(--sidebar-width);
  background: #fff;
  border-right: 1px solid var(--gray-200);
  display: flex; flex-direction: column;
  z-index: 1000;
  transition: width .3s cubic-bezier(.4,0,.2,1);
  overflow: hidden;
}

.sidebar.collapsed { width: var(--sidebar-collapsed); }

/* Brand */
.sidebar-brand {
  display: flex; align-items: center; gap: 12px;
  padding: 20px 16px;
  border-bottom: 1px solid var(--gray-100);
  min-height: 81px;
}

.brand-icon {
  width: 40px; height: 40px; border-radius: var(--radius-sm);
  background: var(--primary); color: #fff;
  display: flex; align-items: center; justify-content: center;
  font-size: 18px; flex-shrink: 0;
}

.brand-text {
  display: flex; flex-direction: column;
  overflow: hidden; white-space: nowrap;
  opacity: 1; transition: opacity .2s ease;
}
.brand-name { font-size: 16px; font-weight: 700; color: var(--gray-900); }
.brand-sub { font-size: 11px; color: var(--gray-400); }

.collapse-btn {
  margin-left: auto; width: 28px; height: 28px; border-radius: 6px;
  background: transparent; border: 1px solid var(--gray-200);
  color: var(--gray-400); cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  font-size: 10px; transition: all var(--transition); flex-shrink: 0;
}
.collapse-btn:hover { background: var(--gray-100); color: var(--gray-600); }

.sidebar.collapsed .brand-text { display: none; }
.sidebar.collapsed .collapse-btn { display: none; }
.sidebar.collapsed .sidebar-brand { justify-content: center; padding: 20px 8px; }

/* Nav */
.sidebar-nav {
  flex: 1; overflow-y: auto; padding: 12px 8px;
  display: flex; flex-direction: column; gap: 2px;
}

.nav-item {
  display: flex; align-items: center; gap: 12px;
  padding: 11px 14px; border-radius: var(--radius-sm);
  color: var(--gray-500); text-decoration: none;
  font-size: 14px; font-weight: 500;
  transition: all var(--transition);
  position: relative;
  white-space: nowrap; overflow: hidden;
}
.nav-item i { font-size: 16px; width: 20px; text-align: center; flex-shrink: 0; }
.nav-item span { overflow: hidden; text-overflow: ellipsis; }
.nav-item:hover { background: var(--gray-100); color: var(--gray-800); }
.nav-item.active {
  background: var(--primary-50); color: var(--primary);
  font-weight: 600;
}
.nav-item.active::before {
  content: '';
  position: absolute; left: 0; top: 20%; bottom: 20%;
  width: 3px; background: var(--primary); border-radius: 0 3px 3px 0;
}

.sidebar.collapsed .nav-item { justify-content: center; padding: 11px; }
.sidebar.collapsed .nav-item span { display: none; }

/* Footer */
.sidebar-footer {
  padding: 12px; border-top: 1px solid var(--gray-100);
}

.sidebar-user {
  display: flex; align-items: center; gap: 10px;
  padding: 10px 12px; border-radius: var(--radius-sm);
  transition: background var(--transition);
}
.sidebar-user:hover { background: var(--gray-50); }

.user-avatar {
  width: 36px; height: 36px; border-radius: var(--radius-sm);
  background: var(--success); color: #fff;
  display: flex; align-items: center; justify-content: center;
  font-weight: 600; font-size: 14px; flex-shrink: 0;
}

.user-details { flex: 1; min-width: 0; display: flex; flex-direction: column; overflow: hidden; }
.user-name { font-size: 13px; font-weight: 600; color: var(--gray-800); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.user-role { font-size: 11px; color: var(--gray-400); text-transform: capitalize; }

.logout-btn {
  width: 32px; height: 32px; border-radius: 6px;
  background: transparent; border: none;
  color: var(--gray-400); cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  font-size: 14px; transition: all var(--transition);
  flex-shrink: 0;
}
.logout-btn:hover { background: var(--danger-light); color: var(--danger); }

.sidebar.collapsed .user-details, .sidebar.collapsed .logout-btn { display: none; }
.sidebar.collapsed .sidebar-user { justify-content: center; }

/* Responsive */
@media (max-width: 1024px) {
  .sidebar { width: var(--sidebar-collapsed); }
  .brand-text, .collapse-btn, .nav-item span, .user-details, .logout-btn { display: none; }
  .sidebar-brand { justify-content: center; padding: 20px 8px; }
  .nav-item { justify-content: center; padding: 11px; }
  .sidebar-user { justify-content: center; }
}

@media (max-width: 768px) {
  .sidebar {
    transform: translateX(-100%);
    width: var(--sidebar-width);
    box-shadow: none;
  }
  .sidebar.mobile-open {
    transform: translateX(0);
    box-shadow: var(--shadow-lg);
  }
  .sidebar.mobile-open .brand-text,
  .sidebar.mobile-open .collapse-btn,
  .sidebar.mobile-open .nav-item span,
  .sidebar.mobile-open .user-details,
  .sidebar.mobile-open .logout-btn { display: flex; }
  .sidebar.mobile-open .sidebar-brand { justify-content: flex-start; padding: 20px 16px; }
  .sidebar.mobile-open .nav-item { justify-content: flex-start; padding: 11px 14px; }
  .sidebar.mobile-open .sidebar-user { justify-content: flex-start; }
}
